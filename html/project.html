<!DOCTYPE html>
<html>
    <head>
        <title>Home</title>
        <link rel="stylesheet" type="text/css" href="/style.css">
        
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LH73GN6749"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
            
        gtag('config', 'G-LH73GN6749');
        </script>

        <script src="https://kit.fontawesome.com/fd807d2bb9.js" crossorigin="anonymous"></script>
        
    
    </head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- highlight.js (syntax highlighting) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js"></script>
    
    <script>
        marked.setOptions({
            highlight: function(code, lang) {
            return hljs.highlight(code, { language: lang || 'plaintext' }).value;
            }
        });
    </script>

    <div id="navbar"></div>
    <script>
    fetch("/html/navbar.html")
        .then(res => res.text())
        .then(data => {
        document.getElementById("navbar").innerHTML = data;
        });
    </script>
    
    <div class="content" >
        <div class="blogBody">
            <div id="project-content"></div>
        </div>
    </div>
    <script>
    // get project name from query string, e.g., projects.html?project=project1
    const params = new URLSearchParams(window.location.search);
    const projectName = params.get("project") || "default";

    fetch(`/projects/${projectName}.md`)
        .then(res => res.text())
        .then(md => {
            document.getElementById("project-content").innerHTML = marked.parse(md);
            // run highlight on all code blocks
            document.querySelectorAll('#project-content pre code').forEach(el => {
            hljs.highlightElement(el);
            });
        })
        .catch(() => {
            document.getElementById("project-content").innerHTML = "<p>Project not found.</p>";
        });
    </script>
</body>
</html>